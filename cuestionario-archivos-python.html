<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario: Manejo de Archivos en Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .option-card { transition: all 0.2s ease; }
        .option-card:hover:not(.disabled) { transform: translateY(-2px); }
    </style>
</head>
<body class="bg-slate-50 min-h-screen pb-12">

    <!-- Header -->
    <header class="bg-indigo-700 text-white py-8 px-4 shadow-lg mb-8">
        <div class="max-w-3xl mx-auto text-center">
            <h1 class="text-3xl font-bold mb-2">Manejo de Archivos en Python</h1>
            <p class="opacity-90">Unidad 4: T√©cnicas avanzadas y operaciones I/O</p>
        </div>
    </header>

    <main class="max-w-3xl mx-auto px-4">
        <!-- Progress Bar -->
        <div class="mb-8 bg-white p-4 rounded-xl shadow-sm border border-slate-200">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-semibold text-slate-600">Progreso del Cuestionario</span>
                <span id="progress-text" class="text-sm font-bold text-indigo-600">0%</span>
            </div>
            <div class="w-full bg-slate-100 rounded-full h-2.5">
                <div id="progress-bar" class="bg-indigo-600 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container">
            <!-- Questions will be injected here -->
        </div>

        <!-- Result Container (Hidden by default) -->
        <div id="result-container" class="hidden bg-white p-8 rounded-2xl shadow-xl border border-slate-200 text-center animate-in fade-in duration-700">
            <div id="result-icon" class="mb-4 text-6xl">üèÜ</div>
            <h2 class="text-2xl font-bold text-slate-800 mb-2">¬°Cuestionario Completado!</h2>
            <p class="text-slate-600 mb-6">Has demostrado tus conocimientos sobre el manejo de archivos.</p>
            
            <div class="flex justify-center gap-8 mb-8">
                <div class="text-center">
                    <span class="block text-4xl font-bold text-indigo-600" id="final-score">0</span>
                    <span class="text-xs uppercase font-bold text-slate-400">Puntaje Final</span>
                </div>
                <div class="text-center">
                    <span class="block text-4xl font-bold text-slate-800" id="correct-count">0/10</span>
                    <span class="text-xs uppercase font-bold text-slate-400">Aciertos</span>
                </div>
            </div>

            <button onclick="location.reload()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-colors shadow-md">
                Intentar de nuevo
            </button>
        </div>
    </main>

    <script>
        const questions = [
            {
                q: "¬øCu√°l es el principal inconveniente de trabajar √∫nicamente con datos almacenados en la memoria RAM?",
                options: [
                    "La memoria RAM es mucho m√°s lenta que el almacenamiento en disco.",
                    "Los datos desaparecen una vez que el programa finaliza o el computador se apaga.",
                    "No se pueden realizar operaciones matem√°ticas sobre datos en la RAM.",
                    "Los datos en la RAM solo pueden ser de tipo entero."
                ],
                correct: 1
            },
            {
                q: "Seg√∫n el material de estudio, ¬øqu√© ventaja fundamental ofrece el uso de archivos para el manejo de grandes vol√∫menes de datos?",
                options: [
                    "Permite que el procesador trabaje al doble de su velocidad nominal.",
                    "Garantiza que el programa nunca tenga errores de sintaxis.",
                    "Evita tener que cargar los datos manualmente desde el teclado cada vez.",
                    "Reduce el consumo de energ√≠a el√©ctrica del monitor."
                ],
                correct: 2
            },
            {
                q: "Al utilizar la funci√≥n open(\"datos.txt\", \"r\"), ¬øqu√© sucede si el archivo no existe?",
                options: [
                    "Python crea autom√°ticamente un archivo vac√≠o.",
                    "Se genera una excepci√≥n del tipo FileNotFoundError.",
                    "El programa contin√∫a su ejecuci√≥n asignando el valor None.",
                    "Se abre una ventana para que el usuario busque el archivo."
                ],
                correct: 1
            },
            {
                q: "¬øCu√°l es la funci√≥n del par√°metro \"w\" en la instrucci√≥n open(ruta, \"w\")?",
                options: [
                    "Abrir el archivo en modo de lectura web.",
                    "Abrir el archivo para escritura, sobrescribiendo el contenido si ya existe.",
                    "Cifrar el archivo con una contrase√±a de seguridad.",
                    "Abrir el archivo exclusivamente para esperar (wait)."
                ],
                correct: 1
            },
            {
                q: "¬øPor qu√© se recomienda el uso de la sentencia with al abrir archivos?",
                options: [
                    "Porque hace que el archivo se lea m√°s r√°pido.",
                    "Porque permite abrir archivos protegidos por el sistema.",
                    "Porque gestiona autom√°ticamente el cierre del archivo al finalizar el bloque.",
                    "Porque convierte archivos PDF a texto autom√°ticamente."
                ],
                correct: 2
            },
            {
                q: "En el procesamiento de un archivo CSV con encabezados, ¬øqu√© se debe hacer para calcular sumas num√©ricas correctamente?",
                options: [
                    "Omitir o saltar la primera l√≠nea del archivo.",
                    "Multiplicar los encabezados por cero.",
                    "Cambiar la extensi√≥n a .txt antes de procesar.",
                    "Usar solo archivos que no tengan nombres de columnas."
                ],
                correct: 0
            },
            {
                q: "¬øQu√© m√©todo del objeto archivo se utiliza para guardar contenido en √©l?",
                options: [
                    "save()",
                    "input()",
                    "write()",
                    "push()"
                ],
                correct: 2
            },
            {
                q: "Seg√∫n Ayala San Mart√≠n (2020), ¬øcu√°l es el orden l√≥gico de los procesos con archivos y arreglos?",
                options: [
                    "Grabar en el archivo, borrar el arreglo y cargar datos.",
                    "Cargar datos del archivo al arreglo, procesarlos y grabarlos de vuelta.",
                    "Procesar en el arreglo, borrar el archivo y apagar el computador.",
                    "Solo se pueden procesar datos si el archivo est√° cerrado."
                ],
                correct: 1
            },
            {
                q: "¬øQu√© diferencia a un archivo estructurado de uno no estructurado?",
                options: [
                    "El peso del archivo en disco.",
                    "La forma en que se organiza y almacena la informaci√≥n internamente.",
                    "El sistema operativo donde fue creado.",
                    "Solo los estructurados se abren con la funci√≥n open()."
                ],
                correct: 1
            },
            {
                q: "¬øQu√© tipo de dato debe ser el argumento enviado al m√©todo write()?",
                options: [
                    "Un n√∫mero entero o flotante directamente.",
                    "Una lista o un diccionario sin procesar.",
                    "Una cadena de texto (string).",
                    "Un valor booleano."
                ],
                correct: 2
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;

        function renderQuestion() {
            const quizContainer = document.getElementById('quiz-container');
            const question = questions[currentQuestion];
            
            // Update progress
            const progress = Math.round((currentQuestion / questions.length) * 100);
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').innerText = `${progress}%`;

            quizContainer.innerHTML = `
                <div class="bg-white p-6 md:p-8 rounded-2xl shadow-md border border-slate-200 animate-in slide-in-from-right duration-500">
                    <span class="inline-block px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold mb-4">PREGUNTA ${currentQuestion + 1} DE ${questions.length}</span>
                    <h2 class="text-xl font-bold text-slate-800 mb-6">${question.q}</h2>
                    
                    <div class="space-y-3">
                        ${question.options.map((opt, index) => `
                            <button onclick="checkAnswer(${index})" id="opt-${index}" class="option-card w-full text-left p-4 rounded-xl border-2 border-slate-100 bg-slate-50 hover:bg-white hover:border-indigo-300 flex items-center gap-4 group">
                                <span class="flex-shrink-0 w-8 h-8 rounded-full border-2 border-slate-200 bg-white text-slate-400 font-bold flex items-center justify-center group-hover:border-indigo-400 group-hover:text-indigo-600 transition-colors">
                                    ${String.fromCharCode(65 + index)}
                                </span>
                                <span class="text-slate-700 font-medium">${opt}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function checkAnswer(index) {
            if (answered) return;
            answered = true;

            const question = questions[currentQuestion];
            const isCorrect = index === question.correct;
            
            const selectedBtn = document.getElementById(`opt-${index}`);
            const correctBtn = document.getElementById(`opt-${question.correct}`);

            // Deshabilitar todos
            document.querySelectorAll('.option-card').forEach(btn => btn.classList.add('disabled', 'cursor-default'));

            if (isCorrect) {
                score++;
                selectedBtn.classList.replace('border-slate-100', 'border-emerald-500');
                selectedBtn.classList.replace('bg-slate-50', 'bg-emerald-50');
                selectedBtn.querySelector('span:first-child').classList.replace('border-slate-200', 'border-emerald-500');
                selectedBtn.querySelector('span:first-child').classList.replace('text-slate-400', 'text-emerald-600');
                selectedBtn.querySelector('span:first-child').innerHTML = '‚úì';
            } else {
                selectedBtn.classList.replace('border-slate-100', 'border-red-500');
                selectedBtn.classList.replace('bg-slate-50', 'bg-red-50');
                selectedBtn.querySelector('span:first-child').classList.replace('border-slate-200', 'border-red-500');
                selectedBtn.querySelector('span:first-child').classList.replace('text-slate-400', 'text-red-600');
                selectedBtn.querySelector('span:first-child').innerHTML = '‚úï';

                correctBtn.classList.replace('border-slate-100', 'border-emerald-500');
                correctBtn.classList.replace('bg-slate-50', 'bg-emerald-50');
            }

            // Next button or finish
            const nextBtn = document.createElement('button');
            nextBtn.className = "mt-6 w-full py-4 bg-slate-800 text-white font-bold rounded-xl hover:bg-slate-900 transition-all shadow-lg animate-bounce";
            nextBtn.innerText = currentQuestion < questions.length - 1 ? "Siguiente Pregunta ‚Üí" : "Ver Resultados Finales";
            nextBtn.onclick = () => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    answered = false;
                    renderQuestion();
                } else {
                    showResults();
                }
            };
            document.getElementById('quiz-container').appendChild(nextBtn);
            
            // Scroll to button
            nextBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('progress-bar').style.width = `100%`;
            document.getElementById('progress-text').innerText = `100%`;
            
            const container = document.getElementById('result-container');
            container.classList.remove('hidden');
            
            const percentage = (score / questions.length) * 100;
            document.getElementById('final-score').innerText = `${percentage}%`;
            document.getElementById('correct-count').innerText = `${score}/${questions.length}`;

            const icon = document.getElementById('result-icon');
            if (percentage >= 80) icon.innerText = "üèÜ";
            else if (percentage >= 50) icon.innerText = "‚≠ê";
            else icon.innerText = "üìö";
        }

        // Initialize
        window.onload = renderQuestion;
    </script>
</body>
</html>
